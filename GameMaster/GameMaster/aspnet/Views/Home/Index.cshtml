@{
    ViewData["Title"] = "Home Page";
}

    <div class="text-center">
        <h1 class="display-4">Welcome</h1>
        <div class="row d-flex">
            <div class="col-sm-3"></div>
            <table class="col-sm-6"><tbody id="gameBoard"></tbody></table>
            <div class="col-sm-3"></div>
        </div>
    </div>

    @section scripts {
        <script type="text/javascript">
            var columns = 10;
            var rows = 10;
            var boardFields;
            function ConstructBoard() {
                var table = $("#gameBoard");
                boardFields = [];
                //table.remove();
                for (var i = 0; i < rows; i++) {
                    var row = $('<tr>');
                    boardFields[i] = [];
                    for (var j = 0; j < columns; j++) {
                        var column = $('<td>');
                        column.text("(" + i + ", " + j + ")");
                        row.append(column);
                        boardFields[i][j] = { type: FieldTypesIndexed[3], handle: column };
                    }
                    table.append(row);
                }
            } 
            function ColorBoard() {
                for (var i = 0; i < rows; i++)
                {
                    for (var j = 0; j < rows; j++)
                    {
                        boardFields[i][j].handle.text(boardFields[i][j].type.text);
                        boardFields[i][j].handle.addClass(boardFields[i][j].type.class);
                    }
                }
            }
            const FieldTypes = {
                EMPTY: { class: "empty", text:"" },
                RED_PLAYER: { class: "redPlayer", text:"R" },
                BLUE_PLAYER: { class: "bluePlayer", text:"B" },
                RED_PLAYER_WITH_PIECE: { class: "redPlayerWithPiece", text:"RP" },
                BLUE_PLAYER_WITH_PIECE: { class: "bluePlayerWithPiece", text:"BP" },
                PIECE: { class: "piece", text:"P" },
                GOAL: { class: "goal", text:"G" },
                DISCOVERED_NON_GOAL: { class: "discoveredNonGoal", text:"N" },
                DISCOVERED_GOAL: { class: "discoveredGoal", text:"YG" },
            }
            const FieldTypesIndexed = [
                FieldTypes.EMPTY, FieldTypes.RED_PLAYER, FieldTypes.BLUE_PLAYER,
                FieldTypes.RED_PLAYER_WITH_PIECE, FieldTypes.BLUE_PLAYER_WITH_PIECE,
                FieldTypes.PIECE, FieldTypes.GOAL,
                FieldTypes.DISCOVERED_NON_GOAL, FieldTypes.DISCOVERED_GOAL
            ]
            ConstructBoard();
            ColorBoard();
        </script>
    }
